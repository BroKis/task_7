{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ilaki\\\\WebstormProjects\\\\task_7\\\\lab7\\\\src\\\\components\\\\HOC\\\\Auth\\\\index.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { AuthService } from \"../../../services/AuthService\";\nimport { Navigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Auth = _ref => {\n  _s();\n  let {\n    children,\n    redirect = true\n  } = _ref;\n  const [status, setStatus] = useState();\n  useEffect(() => {\n    (async () => {\n      const response = await AuthService.checkAuth();\n      setStatus(response === null || response === void 0 ? void 0 : response.status);\n    })();\n  }, []);\n  if (status === 200) return children;else if (status === 401 && redirect) return /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 16\n  }, this);else if (status === 401) return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);else if (status === 403) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Forbidden\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 16\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 12\n  }, this);\n};\n_s(Auth, \"uYbYess1sFM2w8u2a6/U1KfUigE=\");\n_c = Auth;\nvar _c;\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"names":["useEffect","useState","AuthService","Navigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Auth","_ref","_s","children","redirect","status","setStatus","response","checkAuth","to","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/ilaki/WebstormProjects/task_7/lab7/src/components/HOC/Auth/index.js"],"sourcesContent":["import {useEffect, useState} from \"react\";\r\nimport {AuthService} from \"../../../services/AuthService\";\r\nimport {Navigate} from \"react-router-dom\";\r\n\r\nexport const Auth = ({children, redirect = true}) => {\r\n    const [status, setStatus] = useState();\r\n    useEffect(() => {\r\n        (async () => {\r\n            const response = await AuthService.checkAuth()\r\n            setStatus(response?.status)\r\n        })()\r\n    }, []);\r\n\r\n    if (status === 200)\r\n        return children;\r\n    else if (status === 401 && redirect)\r\n        return <Navigate to=\"/login\"/>\r\n    else if (status === 401)\r\n        return <></>;\r\n    else if (status === 403)\r\n        return <p>Forbidden</p>\r\n\r\n    return <p>Loading...</p>\r\n}"],"mappings":";;AAAA,SAAQA,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACzC,SAAQC,WAAW,QAAO,+BAA+B;AACzD,SAAQC,QAAQ,QAAO,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE1C,OAAO,MAAMC,IAAI,GAAGC,IAAA,IAAiC;EAAAC,EAAA;EAAA,IAAhC;IAACC,QAAQ;IAAEC,QAAQ,GAAG;EAAI,CAAC,GAAAH,IAAA;EAC5C,MAAM,CAACI,MAAM,EAAEC,SAAS,CAAC,GAAGb,QAAQ,EAAE;EACtCD,SAAS,CAAC,MAAM;IACZ,CAAC,YAAY;MACT,MAAMe,QAAQ,GAAG,MAAMb,WAAW,CAACc,SAAS,EAAE;MAC9CF,SAAS,CAACC,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEF,MAAM,CAAC;IAC/B,CAAC,GAAG;EACR,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIA,MAAM,KAAK,GAAG,EACd,OAAOF,QAAQ,CAAC,KACf,IAAIE,MAAM,KAAK,GAAG,IAAID,QAAQ,EAC/B,oBAAOP,OAAA,CAACF,QAAQ;IAACc,EAAE,EAAC;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAAE,MAC7B,IAAIR,MAAM,KAAK,GAAG,EACnB,oBAAOR,OAAA,CAAAE,SAAA,oBAAK,CAAC,KACZ,IAAIM,MAAM,KAAK,GAAG,EACnB,oBAAOR,OAAA;IAAAM,QAAA,EAAG;EAAS;IAAAO,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAAI;EAE3B,oBAAOhB,OAAA;IAAAM,QAAA,EAAG;EAAU;IAAAO,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAAI;AAC5B,CAAC;AAAAX,EAAA,CAnBYF,IAAI;AAAAc,EAAA,GAAJd,IAAI;AAAA,IAAAc,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}